# DataRobot自動テストプロジェクト

このプロジェクトには、DataRobotアプリケーションをテストするために作成された自動テストスクリプトが含まれています。このスクリプトは、複数のURLに対して並行して実行され、一括テストシナリオをシミュレートするように設計されています。

## プロジェクト構造

- `sample_url.txt`: テスト対象のURLを含むテキストファイル。
- `market_share_history.csv`: ファイルアップロードに使用されるテストデータ。
- `sample.spec.js`: メインのPlaywrightテストスクリプト。
- `run_tests.sh`: テストスイートを実行するためのシェルスクリプト。
- `setup.sh`: プロジェクトのセットアップを自動化するスクリプト。
- `package.json`: プロジェクトの設定ファイル。

## セットアップと実行

テストを実行するには、次の手順に従ってください：

1. **セットアップスクリプトの実行:**

   プロジェクトを初めてセットアップする場合、または環境を確認したい場合は、次のコマンドを実行します。これにより、必要な依存関係がインストールされ、環境が設定されます。

   ```bash
   sh setup.sh
   ```

2. **テストの実行:**

   セットアップが完了したら、次のコマンドでテストを実行します。

   ```bash
   sh run_tests.sh
   ```

   または、npmスクリプトを使用することもできます：

   ```bash
   npm test
   ```

## テストスクリプトの概要

`sample.spec.js`スクリプトは、各URLに対して次のアクションを実行します：

1. 指定されたURLに**移動**します。
2. ドラッグアンドドロップ操作を使用して`market_share_history.csv`ファイルを**アップロード**します。
3. ファイルが処理されるのを**待機**します。
4. 「Chats」タブに**移動**します。
5. チャットで質問をし、応答を**待機**します。
6. 「More insights」タブに**移動**し、コンテンツを操作します。
7. 各主要なアクションの応答時間を**記録**し、出力します。

## 主な機能

- **並列実行:** テストは各URLに対して並行して実行されるように設定されており、迅速なフィードバックを提供します。
- **信頼性の高いファイルアップロード:** スクリプトは、一貫したファイルアップロードを保証するために、堅牢なドラッグアンドドロップ方式を使用しています。
- **動的な待機:** スクリプトには、処理時間と応答時間のばらつきに対応するための動的な待機が含まれています。
- **応答時間の測定:** スクリプトは、各クリティカルなアクションにかかる時間を記録およびログに記録し、パフォーマンス分析を可能にします。

